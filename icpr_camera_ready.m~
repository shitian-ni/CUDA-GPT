%%
clear; close all; clc;
datasetID = 4;
iSave = 0;
%%

% image1 = imread('img1_small.pgm');
% image2 = imread('img4_small2.pgm');
% A = csvread('image12.csv', 2, 0);
% A = reshape(A, 3, 3).';
% img2_trans = bilinear_normal_projection2(inv(A), image2);
% img2_trans = img2_trans(1 : 128, 1 : 160);
% imagesc(img2_trans);

folderName = {'bark'; 'bikes'; 'boat'; 'graf'; 'leuven'; 'tree'; 'ubc'; 'wall'};
fileEx     = {'ppm' , 'ppm'  , 'pgm' , 'ppm' , 'ppm'   , 'ppm' , 'ppm', 'ppm' };
isColor    = [1, 1, 0, 1, 1, 1, 1, 1];


folderName2 = sprintf('sample_%s', char(folderName(datasetID)));

for i = 1 : 6
    filepath = sprintf('%s/img%d.%s', folderName2, i, char(fileEx(datasetID)));
    img = imread(filepath);
    if isColor(datasetID)
        img = rgb2gray(img);
    end
    img = imresize(img, .4);
    filepath = sprintf('%s/img%d_small2.pgm', folderName2, i);
    if iSave
        my_writePGM(img, filepath);
        endi
end